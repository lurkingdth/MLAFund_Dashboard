@model IEnumerable<MLAFund.Models.Data.convergence>
@{
    ViewBag.Title = "Convergence - Report";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

@*@section bc{

        <ol class="breadcrumb float-sm-right">
            <li class="breadcrumb-item"><a href="/convergence">convergence</a></li>
            <li class="breadcrumb-item active">Create</li>
        </ol>


    }*@
<ol class="breadcrumb float-sm-right">
    <li class="breadcrumb-item"><a href="/CompletedScheme">Completed Scheme Report Division Wise</a></li>
    <li class="breadcrumb-item active">Index</li>
</ol>

<div class="col-md-12 col-lg-12">
    <div class="card card-dark">
        <div class="card-header">
            <h3 class="card-title">Convergence Report</h3>
        </div>
        <!-- /.card-header -->
        <!-- form start -->




        <table id="convergence_report" class="table table-bordered table-striped Items table-responsive">
            <thead>

                <tr>
                    <th rowspan="2">Serial #</th>
                    <th rowspan="2">Name of Scheme</th>
                    <th colspan="2">Funds Allocated</th>
                    <th colspan="2">Funds Utilized</th>
                    @*<th>5</th>*@
                    <th rowspan="2">Current Status of Scheme</th>
                    <th rowspan="2">Number of Mandays Generated</th>
                    <th rowspan="2">Remarks</th>
                    
                    @*<th>9</th>*@
                </tr>
                <tr>
                    @*<th>11</th>*@
                    @*<th>12</th>*@
                    @*<th>13</th>*@
                    <th>Department</th>
                    <th>MGNREGA</th>
                    <th>Department</th>
                    <th>MGNREGA</th>
                    @*<th>18</th>
                        <th>19</th>*@
                </tr>

                @*<th>Serial No.</th>*@

                @*<th> cid </th>*@
                @*<th> district </th>*@
                @* <th> block </th>*@
                @*<th> panchayat </th>*@
                @*<th> village </th>*@

                @*<th rowspan="2"> Name of the Scheme </th>*@

                @*<th> sectorofscheme </th>*@
                @*<th colspan="2">Funds Allocated</th>
                    <t> Department Fund </t>
                    <th> MGNREGA Fund </th>
                    <th colspan="2"> Funds Utilized </th>
                    <th> Deparment Fund </th>
                    <th> MGNREGA Fund </th>*@
                @*<th> totalfund </th>*@
                @*<th> dateofsanctioned </th>*@
                @*<th> timelimit </th>*@
                @*<th> totalfundutilized </th>*@
                @*<th> timespent </th>*@

                @*<th> dateofentry </th>*@
                @*<th> Scheme - Current Status </th>
                    <th> Remarks </th>*@
                @*<th> action </th>*@
                @*<th> submittedby </th>*@
                @*<th> convergence_doc </th>*@

            </thead>

            @if (Model != null)
            {

                //  var SNo = 1;
                ////  var s = 0;
                <tbody>

                    @foreach (var item in Model.Select((i, it) => new { i, it = it + 1 }))
                    {

                        <tr>

                            @*<td>@item.it</td>
                                <td>@item.i.subdivision</td>
                                <td>@item.i.totapp</td>*@
                            <td>@item.it</td>
                            @*<td> @item.i.cid </td>*@
                            @*<td> @item.i.district </td>*@
                            @*<td> @item.i.block </td>*@
                            @*<td> @item.i.panchayat </td>*@
                            @*<td> @item.i.village </td>*@
                            <td> @item.i.nameofscheme </td>
                            @*<td> @item.i.sectorofscheme </td>*@
                            <td> @item.i.fundofdpt </td>
                            <td> @item.i.fundofmgnrega </td>
                            <td></td>
                            <td></td>
                            @*<td> @item.i.totalfund </td>*@
                            @*<td> @item.i.dateofsanctioned </td>*@
                            @*<td> @item.i.timelimit </td>*@
                            @*<td> @item.i.totalfundutilized </td>*@
                            @*<td> @item.i.timespent </td>*@

                            @*<td> @item.i.dateofentry </td>*@
                            <td> @item.i.status </td>
                            <td></td>
                            <td> @item.i.remarks </td>
                            @*<td> @item.i.action </td>*@
                            @*<td> @item.i.submittedby </td>*@
                            @*<td> @item.i.convergence_doc </td>*@

                            @*<td><button type="button" class="clickme" id="myBtn" popupid="@item.recid">Assign to EE for Feasibility</button></td>*@

                        </tr>
                        //  s = s + Convert.ToInt32(item.totalapp);
                    }
                </tbody>
                //  Session["tapp"] =s;
            }


        </table>
        
    </div>
</div>

<div class="col-md-12 col-lg-12">
    <div class="card card-dark">
        <div class="card-header d-flex justify-content-center">
            <h3 class="card-title">Convergence DashBoard Report</h3>
        </div>
        <!-- /.card-header -->
        <!-- form start -->




        @*<table id="convergence_workprogress_report" class="table table-bordered table-striped Items table-responsive">
            <thead class="bg-dark">
                <tr>
                    <th rowspan="2">Serial #</th>
                    <th rowspan="2">Name of Department</th>
                    <th rowspan="2">Name of District</th>
                    <th rowspan="2">Name of Scheme</th>
                    <th colspan="2">Funds Allocated</th>
                    <th colspan="2">Funds Utilized</th>
                    <th rowspan="2">Current Status of Scheme</th>
                    <th rowspan="2">Number of Mandays Generated</th>
                    <th rowspan="2">Remarks</th>
                </tr>
                <tr>
                    <th>Department</th>
                    <th>MGNREGA</th>
                    <th>Department</th>
                    <th>MGNREGA</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>it</td>

                    <td> nameofscheme </td>
                    <td> fundofdpt </td>
                    <td> fundofmgnrega </td>
                    <td></td>
                    <td></td>
                    <td> status </td>
                    <td></td>
                    <td> remarks </td>
                    <td></td>
                    <td></td>
                </tr>
            </tbody>
        </table>*@

    </div>
</div>



@section scripts{
    <style>
        [v-cloak] {
            display: none;
        }
    </style>
    <script src="~/Scripts/axios/axios.min.js"></script>
    <script src="~/Scripts/vue/vue.min.js"></script>
    <script src="~/Scripts/vee-validate/vee-validate.min.js"></script>
    <script>Vue.use(VeeValidate);</script>
    <script src="~/Scripts/apps/convergence.js"></script>


    <!--Nishant : Code Start: Added Code for Datatables-->
    <script>
        $(document).ready(function () {
            var table = $('#convergence_report',).DataTable({
                //Toggle the below paging to false - to remove pagination
                paging: true,


                //Nishant Code Start - Code Add for Exporting to PDF
                dom: 'Bfrtip',
                buttons: [
                    {
                        extend: 'pdfHtml5',
                        orientation: 'landscape',
                        title: 'Convergence Report',
                        pageSize: 'A4',
                        text: 'Export to PDF'
                    }
                ]
                //Code End - Code Added for File Export to PDF

            });

            $('a.toggle-vis').on('click', function (e) {
                e.preventDefault();

                // Get the column API object
                var column = table.column($(this).attr('data-column'));

                // Toggle the visibility
                column.visible(!column.visible());
            });
        });
    </script>
    <script>
        $(document).ready(function () {
            var table = $('#convergence_workprogress_report').DataTable({
                //Toggle the below paging to false - to remove pagination
                paging: true,


                //Nishant Code Start - Code Add for Exporting to PDF
                dom: 'Bfrtip',
                buttons: [
                    {
                        extend: 'pdfHtml5',
                        orientation: 'landscape',
                        title: 'Convergence Report',
                        pageSize: 'A4',
                        text: 'Export to PDF'
                    }
                ]
                //Code End - Code Added for File Export to PDF

            });

            $('a.toggle-vis').on('click', function (e) {
                e.preventDefault();

                // Get the column API object
                var column = table.column($(this).attr('data-column'));

                // Toggle the visibility
                column.visible(!column.visible());
            });
        });
    </script>
    <!--Nishant : Code Start: Added Code for Datatables-->
}


